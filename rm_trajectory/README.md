# 弹道解算

### 单独Pitch补偿

#### 使用方法

```c++
auto test_pitch = std::make_shared<rm_trajectory::GetPitch>(initial_vel);
pitch = test_pitch->get_pitch(target_distance, target_h, initial_vel);
```

### 模型解算

#### 使用方法

```c++
// 创建基于重力弹道模型的求解器，GravityProjectileSolver，参数代表子弹速度为25m/s
auto graviry_solver = std::make_shared<rmoss_projectile_motion::GravityProjectileSolver>(25);

// 创建考虑重力和空气阻力的求解器，GafProjectileSolver，参数代表子弹速度为25m/s，空气阻力系数为0.1
auto gaf_solver = std::make_shared<rmoss_projectile_motion::GafProjectileSolver>(25, 0.1);

// 创建gimbal_transform_tool，传入graviry_solver求解器
auto projectile_tansformoss_tool =
  std::make_shared<rmoss_projectile_motion::GimbalTransformTool>(graviry_solver);

// 求解例子
Eigen::Vector3d position(6, 2, 2);
double pitch, yaw;
projectile_tansformoss_tool->solve(position, pitch, yaw);

// 更换求解器
projectile_tansformoss_tool->set_projectile_solver(gaf_solver);

// 更改求解器的参数
graviry_solver->set_initial_vel(15);
gaf_solver->set_initial_vel(15);
gaf_solver->set_friction_coeff(0.2);
```

# 射表原始数据

## 一、速度为$30m/s$时射表

​		目前测试了$30m/s$速度下，距离分别为$1, 3, 5, 7$米的弹道数据，将每米的数据处理后，对未测试的数据进行差值处理，采用牛顿差值的方法。

- ### 距离为1米射表


每个数据点由5个实际射击点求均值所得，本表格只显示均值后结果。

| pitch | 射击点相对地面高度$mm$ | 枪口相对地面高度$mm$ |
| :---: | :--------------------: | :------------------: |
| $-20$ |         $523$          |        $997$         |
| $-18$ |         $569$          |        $1002$        |
| $-16$ |         $619$          |        $1010$        |
| $-14$ |        $670.5$         |        $1017$        |
| $-12$ |        $711.6$         |        $1022$        |
| $-10$ |         $130$          |        $364$         |
| $-8$  |         $176$          |        $369$         |
| $-6$  |         $217$          |        $375$         |
| $-4$  |         $259$          |        $383$         |
| $-2$  |         $297$          |        $390$         |
|  $0$  |         $400$          |        $400$         |
|  $2$  |         $450$          |        $405$         |
|  $4$  |         $490$          |        $410$         |
|  $6$  |         $530$          |        $415$         |
|  $8$  |         $570$          |        $420$         |
| $10$  |         $610$          |        $425$         |
| $12$  |         $645$          |        $430$         |
| $14$  |         $685$          |        $435$         |
| $16$  |         $710$          |        $440$         |
| $18$  |         $750$          |        $448$         |
| $20$  |         $795$          |        $455$         |
| $22$  |         $845$          |        $463$         |
| $24$  |         $895$          |        $470$         |
| $26$  |         $945$          |        $477$         |

- ### 距离为3米射表


每个数据点由5个实际射击点求均值所得，本表格只显示均值后结果。

| pitch | 射击点相对地面高度$mm$ | 枪口相对地面高度$mm$ |
| :---: | :--------------------: | :------------------: |
| $-10$ |        $326.7$         |        $1067$        |
| $-8$  |         $443$          |        $1067$        |
| $-6$  |         $558$          |        $1067$        |
| $-4$  |         $671$          |        $1067$        |
| $-2$  |         $787$          |        $1067$        |
|  $0$  |        $231.8$         |        $400$         |
|  $2$  |         $349$          |        $400$         |
|  $4$  |        $471.7$         |        $400$         |
|  $6$  |         $574$          |        $400$         |
|  $8$  |        $699.25$        |        $400$         |
| $10$  |        $787.5$         |        $400$         |
| $12$  |        $894.5$         |        $400$         |
| $14$  |        $1006.4$        |        $400$         |
| $16$  |        $1116.7$        |        $400$         |
| $18$  |         $1245$         |        $400$         |
| $20$  |         $1386$         |        $400$         |
| $22$  |         $1486$         |        $400$         |
| $24$  |       $1604.75$        |        $400$         |
| $26$  |         $1728$         |        $400$         |
| $28$  |         $1878$         |        $400$         |
| $30$  |         $1987$         |        $400$         |

- ### 距离为5米射表

每个数据点由5个实际射击点求均值所得，本表格只显示均值后结果。

| pitch | 射击点相对地面高度$mm$ | 枪口相对地面高度$mm$ |
| :---: | :--------------------: | :------------------: |
| $-14$ |        $314.75$        |        $2041$        |
| $-12$ |         $476$          |        $2041$        |
| $-10$ |         $646$          |        $2041$        |
| $-8$  |         $259$          |        $1374$        |
| $-6$  |        $414.5$         |        $1374$        |
| $-4$  |         $605$          |        $1374$        |
| $-2$  |         $820$          |        $1374$        |
|  $0$  |         $1029$         |        $1374$        |
|  $2$  |         $236$          |        $400$         |
|  $4$  |         $370$          |        $400$         |
|  $6$  |         $589$          |        $400$         |
|  $8$  |        $773.5$         |        $400$         |
| $10$  |         $934$          |        $400$         |
| $12$  |        $1119.5$        |        $400$         |
| $14$  |       $1340.25$        |        $400$         |
| $16$  |         $1423$         |        $400$         |
| $18$  |        $1701.8$        |        $400$         |
| $20$  |        $1899.5$        |        $400$         |
| $22$  |        $2148.5$        |        $400$         |
| $24$  |        $2370.5$        |        $400$         |
| $26$  |         $2542$         |        $400$         |
| $28$  |         $2775$         |        $400$         |

- ### 距离为7米射表

每个数据点由5个实际射击点求均值所得，本表格只显示均值后结果。

| pitch | 射击点相对地面高度$mm$ | 枪口相对地面高度$mm$ |
| :---: | :--------------------: | :------------------: |
| $-8$  |         $319$          |        $2041$        |
| $-6$  |         $571$          |        $2041$        |
| $-4$  |        $847.2$         |        $2041$        |
| $-2$  |       $1103.75$        |        $2041$        |
|  $0$  |         $1424$         |        $2041$        |
|  $2$  |         $1587$         |        $2041$        |
|  $4$  |         $250$          |        $400$         |
|  $6$  |         $510$          |        $400$         |
|  $8$  |        $753.75$        |        $400$         |
| $10$  |         $1037$         |        $400$         |
| $12$  |        $1223.5$        |        $400$         |
| $14$  |         $1541$         |        $400$         |
| $16$  |         $1819$         |        $400$         |
| $18$  |         $2053$         |        $400$         |
| $20$  |        $2308.7$        |        $400$         |
| $22$  |        $2705.7$        |        $400$         |
| $24$  |         $2977$         |        $400$         |

## 二、速度为$18m/s$时射表（待测试）

